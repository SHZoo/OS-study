## 4주차 스터디 정리

### Process Synchronization을 들어가기 전에..
 - **비동기적** 수행 : 작업들이 서로 협력하며 수행한다. 전체적인 처리 속도를 향상시킨다.
 - **동기적** 수행 : 어떤 작업들이 요청되었을 때, 수행 중인 앞작업이 종료될 때까지 기다린 후에 작업을 수행하는 방식이다.
 - **병행 프로세스** : 2개 이상의 관련 프로세스들이 동시에 실행상태에 있는 것이다.
   - 이를 위해서는,
     1. 프로세스들 간에 데이터를 주고받는 통신이 필요하다.
     2. 여러 프로세스가 동일한 데이터를 가지고 작업하는 경우에는 **어느 프로세스가 먼저 실행할지, 언제 끝날지도 알려줘야 한다.**
   - 컴퓨터의 시스템 자원은 어느 시점에 하나의 프로세스에 할당되어 수행되는데, 동시에 두 개 이상의 프로세스를 병행처리하려면 병행 프로세스의 비동기성으로 인한 문제점이 발생할 수 있다.
     1. 공유자원의 상호배제 문제(Mutual Exclusion)
     2. 하나의 기능을 함께 수행하는 프로세스 간의 **동기화** 문제(Synchronization)
     3. 프로세스의 교착상태 문제(Deadlock)
     4. 여러 CPU가 있을 때에는 race condition의 가능성이 발생할 수 있다.
 
 - **race condition?** 
   - 여러 프로세스들이 동시에 공유 데이터를 접근하는 상황
   - 데이터의 최종 연산 결과는 마지막에 그 데이터를 다룬 프로세스에 따라 달라진다. 
   - 이를 막기 위해서는 **동기화**가 되어야 한다.
   
 - race condition은 언제 일어날까?
   - kernel 수행 중 인터럽트가 발생할 때 (solution :: **양쪽 모두 커널모드인 상태이므로 disable/enable 인터럽트 처리루틴이 실행되도록 한다. **)
   - Process가 System call을 하여 kernel mode로 수행 중인데 context switch가 일어나는 경우 (solution :: **kernel모드에서 수행중일 때에는 비선점 방식으로 된다**)
   - 여러 CPU가 있을 때 shared memory 내의 kernel data 
     - solution1 :: 한 번에 하나의 CPU만 커널에 들어갈 수 있게 한다.
     - solution2 :: 커널 내부에 있는 각 공유 데이터에 접근할 때마다 그 데이터에 대한 lock 혹은 unlock을 건다.

-------------
# Ch6. Process Synchronization
    Synchronization(동기화) : 작업을 진행하기 위한 프로세스들 사이의 통신 
 - 일관성 유지를 위해서 협력 프로세스간의 실행순서를 정해주는 메커니즘이 필요하다.
 - race condition을 막기 위해서는 병행 프로세스는 동기화되어야 한다. 
 - 공유 데이터의 동시 접근은 데이터의 불일치 문제를 발생시킬 수 있다. 

 
 # 
    Critical-section(임계구역, CS) : 어느 한 시점에 하나의 프로세스만이 자원이나 데이터를 사용하도록 지정된 공유 자원 또는 영역이다.
 - cs에는 하나의 프로세스만 접근해야 한다.
 - cs를 차지하고 있던 프로세스가 종료된 후에는 다른 프로세스가 자원이나 데이터를 사용할 수 있다.
 - cs는 특정 프로세스가 계속 독점할 수 없다. cs에 들어가는 횟수에 한계가 있어야 한다.
 - cs를 사용하는 프로세스가 없으면 이를 기다리는 프로세스에게 사용을 허락하고, 사용이 끝날때까지 다른 프로세스의 접근을 차단한다.
 - race condition을 유발시키는 code segment의 영역
 - **즉, 공유되는 자원에서 문제가 발생하지 않게 독점을 보장해줘야 하는 영역이다.**

 #
    Mutual Exclusion(상호배제) : 어떤 프로세스가 공유 메모리, 파일을 사용하고 있는 경우 다른 프로세스가 사용할 수 없도록 배제시키는 기법이자 cs를 유지하는 기법이다.
 - **프로그램적 해결법의 충족 조건**
   1. 상호 배제 조건 : 두 개 이상의 프로세스가 동시에 cs에 있어서는 안된다.
   2. Progress(진행 조건) : 아무도 cs에 있지 않은 상태에서 cs에 들어가고자 하는 프로세스가 있으면 cs에 들어가게 해줘야 한다.
   3. Bounded waiting(유한 대기 조건) : 프로세스가 cs에 들어가려고 요청한 후부터 허용될 때까지 다른 프로세스들이 cs에 들어가는 횟수에 한계가 있어야 한다.
 
 - 소프트웨어적 방법으로는 대표적으로 **Peterson알고리즘**이 있고, 하드웨어적 방법으로는 **Test and Set 기법**이 있다.
 

